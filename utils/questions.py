"""–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–ø—Ä–æ—Å–∞ - –ø—Å–∏—Ö–æ–ª–æ–≥-–ø–æ–º–æ—â–Ω–∏–∫ –ø—Ä–∏ –±—É–ª–ª–∏–Ω–≥–µ"""

# –ü–µ—Ä–≤—ã–π —ç—Ç–∞–ø: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –±—É–ª–ª–∏–Ω–≥–∞
INITIAL_QUESTIONS = [
    {
        "code": "Q1",
        "type": "multi",
        "text": "ü§î –ö–∞–∫ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –±—É–ª–ª–∏–Ω–≥ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –≤–∞–º? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "Q1_OP1", "text": "–ù–∞—Å–º–µ—à–∫–∏ –Ω–∞–¥ —Ç–µ–º, –∫–∞–∫ —è –≥–æ–≤–æ—Ä—é (–∞–∫—Ü–µ–Ω—Ç, –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ)"},
            {"code": "Q1_OP2", "text": "–ö—Ä–∏—Ç–∏–∫–∞ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞"},
            {"code": "Q1_OP3", "text": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ"},
            {"code": "Q1_OP4", "text": "–ù–∞—Å–º–µ—à–∫–∏ –Ω–∞–¥ –≤–Ω–µ—à–Ω–æ—Å—Ç—å—é"},
            {"code": "Q1_OP5", "text": "–§–∏–∑–∏—á–µ—Å–∫–æ–µ –Ω–∞—Å–∏–ª–∏–µ"},
            {"code": "Q1_OP6", "text": "–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –æ–±—â–µ–Ω–∏—è –Ω–µ –∏–∑-–∑–∞ —è–∑—ã–∫–∞"},
            {"code": "Q1_OP7", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "Q2",
        "type": "multi",
        "text": "ü§î –ö–∞–∫ –≤—ã —Å—á–∏—Ç–∞–µ—Ç–µ, –ø–æ—á–µ–º—É –≤—ã –ø–æ–¥–≤–µ—Ä–≥–∞–µ—Ç–µ—Å—å –±—É–ª–ª–∏–Ω–≥—É? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "Q2_OP1", "text": "–ò–∑-–∑–∞ –º–æ–µ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞ –∏–ª–∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è"},
            {"code": "Q2_OP2", "text": "–ò–∑-–∑–∞ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –æ–±—â–µ–Ω–∏—è"},
            {"code": "Q2_OP3", "text": "–ò–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ –∑–Ω–∞—é –∫–∞–∫–æ–π-—Ç–æ —è–∑—ã–∫"},
            {"code": "Q2_OP4", "text": "–ò–∑-–∑–∞ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏"},
            {"code": "Q2_OP5", "text": "–ò–∑-–∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞"},
            {"code": "Q2_OP6", "text": "–ò–∑-–∑–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è"},
            {"code": "Q2_OP7", "text": "–ù–µ –∑–Ω–∞—é / –î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "Q3",
        "type": "single",
        "text": "üë• –ö—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–æ–º –±—É–ª–ª–∏–Ω–≥–∞?",
        "options": [
            {"code": "Q3_OP1", "text": "–û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫"},
            {"code": "Q3_OP2", "text": "–ì—Ä—É–ø–ø–∞ –ª—é–¥–µ–π"},
            {"code": "Q3_OP3", "text": "–ú–µ–Ω—è–µ—Ç—Å—è (—Ç–æ –æ–¥–∏–Ω, —Ç–æ –¥—Ä—É–≥–æ–π)"},
            {"code": "Q3_OP4", "text": "–ó–∞—Ç—Ä—É–¥–Ω—è—é—Å—å –æ—Ç–≤–µ—Ç–∏—Ç—å"},
        ],
        "required": True,
    },
    {
        "code": "Q4",
        "type": "multi",
        "text": "üòî –ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ –≤—ã —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ –∏–∑-–∑–∞ –±—É–ª–ª–∏–Ω–≥–∞? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "Q4_OP1", "text": "–û–±–∏–¥–∞, –≥—Ä—É—Å—Ç—å"},
            {"code": "Q4_OP2", "text": "–ó–ª–æ—Å—Ç—å, —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ"},
            {"code": "Q4_OP3", "text": "–°—Ç—Ä–∞—Ö, —Ç—Ä–µ–≤–æ–≥–∞"},
            {"code": "Q4_OP4", "text": "–°—Ç—ã–¥, —Å–º—É—â–µ–Ω–∏–µ"},
            {"code": "Q4_OP5", "text": "–ë–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å"},
            {"code": "Q4_OP6", "text": "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ"},
            {"code": "Q4_OP7", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "Q5",
        "type": "single",
        "text": "üïê –ö–∞–∫ –¥–∞–≤–Ω–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?",
        "options": [
            {"code": "Q5_OP1", "text": "–ù–µ–¥–∞–≤–Ω–æ –Ω–∞—á–∞–ª–æ (–º–µ–Ω–µ–µ –º–µ—Å—è—Ü–∞)"},
            {"code": "Q5_OP2", "text": "–ù–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤"},
            {"code": "Q5_OP3", "text": "–ë–æ–ª—å—à–µ –ø–æ–ª—É–≥–æ–¥–∞"},
            {"code": "Q5_OP4", "text": "–ë–æ–ª—å—à–µ –≥–æ–¥–∞"},
            {"code": "Q5_OP5", "text": "–û—á–µ–Ω—å –¥–∞–≤–Ω–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç)"},
        ],
        "required": True,
    },
    {
        "code": "Q6",
        "type": "single",
        "text": "üó£Ô∏è –†–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª–∏ –ª–∏ –≤—ã –∫–æ–º—É-–Ω–∏–±—É–¥—å –æ —Å–∏—Ç—É–∞—Ü–∏–∏ –±—É–ª–ª–∏–Ω–≥–∞?",
        "options": [
            {"code": "Q6_OP1", "text": "–î–∞, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª(–∞) –±–ª–∏–∑–∫–∏–º (—Ä–æ–¥–∏—Ç–µ–ª–∏, –¥—Ä—É–∑—å—è)"},
            {"code": "Q6_OP2", "text": "–î–∞, –æ–±—Ä–∞—â–∞–ª—Å—è(–ª–∞—Å—å) –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º (–ø—Å–∏—Ö–æ–ª–æ–≥, —É—á–∏—Ç–µ–ª—å)"},
            {"code": "Q6_OP3", "text": "–†–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª(–∞), –Ω–æ –º–Ω–µ –Ω–µ –ø–æ–º–æ–≥–ª–∏"},
            {"code": "Q6_OP4", "text": "–ù–µ—Ç, –Ω–∏–∫–æ–º—É –Ω–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª(–∞)"},
            {"code": "Q6_OP5", "text": "–•–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å, –Ω–æ –Ω–µ –∑–Ω–∞—é –∫–æ–º—É"},
        ],
        "required": True,
    },
]

# –í—Ç–æ—Ä–æ–π —ç—Ç–∞–ø: —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —è–∑—ã–∫–æ–≤–æ–≥–æ –±—É–ª–ª–∏–Ω–≥–∞
LINGUISTIC_QUESTIONS = [
    {
        "code": "LQ1",
        "type": "multi",
        "text": "ÔøΩ –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∞–º –±—É–ª–ª–∏–Ω–≥? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ1_OP1", "text": "–ù–∞—Å–º–µ—à–∫–∞ –Ω–∞–¥ –∞–∫—Ü–µ–Ω—Ç–æ–º"},
            {"code": "LQ1_OP2", "text": "–ü–µ—Ä–µ–¥—Ä–∞–∑–Ω–∏–≤–∞–Ω–∏–µ –º–æ–µ–π —Ä–µ—á–∏"},
            {"code": "LQ1_OP3", "text": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ"},
            {"code": "LQ1_OP4", "text": "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ —è –≥–æ–≤–æ—Ä—é"},
            {"code": "LQ1_OP5", "text": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ ('–ø–∏—à–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ', '—É–¥–∞–ª–∏')"},
            {"code": "LQ1_OP6", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "LQ2",
        "type": "single",
        "text": "üí¨ –ë—ã–≤–∞—é—Ç –ª–∏ –ø—Ä—è–º—ã–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è –≤ —Ä–µ—á–∏ –æ–±–∏–¥—á–∏–∫–∞?",
        "options": [
            {"code": "LQ2_OP1", "text": "–î–∞, —á–∞—Å—Ç–æ –æ—Å–∫–æ—Ä–±–ª—è—é—Ç –Ω–∞–ø—Ä—è–º—É—é"},
            {"code": "LQ2_OP2", "text": "–ò–Ω–æ–≥–¥–∞"},
            {"code": "LQ2_OP3", "text": "–ù–µ—Ç, –±–æ–ª—å—à–µ –Ω–∞–º—ë–∫–∏ –∏ —Å–∫—Ä—ã—Ç–∞—è –∞–≥—Ä–µ—Å—Å–∏—è"},
            {"code": "LQ2_OP4", "text": "–ù–µ—Ç –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π"},
        ],
        "required": True,
    },
    {
        "code": "LQ3",
        "type": "single",
        "text": "‚è∞ –ö–∞–∫ —á–∞—Å—Ç–æ —Ç—ã –ø–æ–¥–≤–µ—Ä–≥–∞–µ—à—å—Å—è –±—É–ª–ª–∏–Ω–≥—É?",
        "options": [
            {"code": "LQ3_OP1", "text": "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∏–ª–∏ –ø–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"},
            {"code": "LQ3_OP2", "text": "–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é"},
            {"code": "LQ3_OP3", "text": "–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü"},
            {"code": "LQ3_OP4", "text": "–†–µ–¥–∫–æ"},
        ],
        "required": True,
    },
    {
        "code": "LQ4",
        "type": "multi",
        "text": "ÔøΩ –ö–∞–∫ —Ç—ã —Ä–µ–∞–≥–∏—Ä—É–µ—à—å –Ω–∞ –∏—Ö –±—É–ª–ª–∏–Ω–≥? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ4_OP1", "text": "–ò–≥–Ω–æ—Ä–∏—Ä—É—é"},
            {"code": "LQ4_OP2", "text": "–û—Ç–≤–µ—á–∞—é, –∑–∞—â–∏—â–∞—é—Å—å"},
            {"code": "LQ4_OP3", "text": "–ü–µ—Ä–µ—Ö–æ–∂—É –Ω–∞ –¥—Ä—É–≥–æ–π —è–∑—ã–∫"},
            {"code": "LQ4_OP4", "text": "–£—Ö–æ–∂—É, –∏–∑–±–µ–≥–∞—é –æ–±—â–µ–Ω–∏—è"},
            {"code": "LQ4_OP5", "text": "–ß—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø–ª–æ—Ö–æ, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—é"},
            {"code": "LQ4_OP6", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "LQ5",
        "type": "multi",
        "text": "üìç –ü—Ä–∏ –∫–∞–∫–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—É–ª–ª–∏–Ω–≥? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ5_OP1", "text": "–í —à–∫–æ–ª–µ/—É—á–µ–±–Ω–æ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏"},
            {"code": "LQ5_OP2", "text": "–í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (—Å–æ—Ü—Å–µ—Ç–∏, –∏–≥—Ä—ã, —á–∞—Ç—ã)"},
            {"code": "LQ5_OP3", "text": "–í –∫–æ–º–ø–∞–Ω–∏–∏ –¥—Ä—É–∑–µ–π/–∑–Ω–∞–∫–æ–º—ã—Ö"},
            {"code": "LQ5_OP4", "text": "–í –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö"},
            {"code": "LQ5_OP5", "text": "–î–æ–º–∞ / –≤ —Å–µ–º—å–µ"},
            {"code": "LQ5_OP6", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "LQ6",
        "type": "multi",
        "text": "üåê –ö–∞–∫–æ–π —è–∑—ã–∫/—è–∑—ã–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–∏—á–∏–Ω–æ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ6_OP1", "text": "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫"},
            {"code": "LQ6_OP2", "text": "–ö–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫"},
            {"code": "LQ6_OP3", "text": "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫"},
            {"code": "LQ6_OP4", "text": "–î—Ä—É–≥–æ–π —è–∑—ã–∫ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
            {"code": "LQ6_OP5", "text": "–ù–µ —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —è–∑—ã–∫–æ–º"},
        ],
        "required": True,
    },
    {
        "code": "LQ7",
        "type": "single",
        "text": "üí™ –ü—ã—Ç–∞–ª–∏—Å—å –ª–∏ –≤—ã —á—Ç–æ-—Ç–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—É–ª–ª–∏–Ω–≥?",
        "options": [
            {"code": "LQ7_OP1", "text": "–î–∞, –∏ —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ"},
            {"code": "LQ7_OP2", "text": "–î–∞, –Ω–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ"},
            {"code": "LQ7_OP3", "text": "–ü—ã—Ç–∞–ª—Å—è(–ª–∞—Å—å), –Ω–æ —Å–∏—Ç—É–∞—Ü–∏—è —É—Ö—É–¥—à–∏–ª–∞—Å—å"},
            {"code": "LQ7_OP4", "text": "–ù–µ—Ç, –Ω–µ –∑–Ω–∞—é –∫–∞–∫"},
            {"code": "LQ7_OP5", "text": "–ù–µ—Ç, –±–æ—é—Å—å —á—Ç–æ –±—É–¥–µ—Ç —Ö—É–∂–µ"},
        ],
        "required": True,
    },
    {
        "code": "LQ8",
        "type": "multi",
        "text": "üéØ –ß—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∑–∞–¥–µ–≤–∞–µ—Ç –≤ —Å–ª–æ–≤–∞—Ö –æ–±–∏–¥—á–∏–∫–∞? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ8_OP1", "text": "–¢–æ, —á—Ç–æ –∫—Ä–∏—Ç–∏–∫—É—é—Ç –º–æ—é —Ä–µ—á—å"},
            {"code": "LQ8_OP2", "text": "–¢–æ, —á—Ç–æ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –º–æ–π —è–∑—ã–∫"},
            {"code": "LQ8_OP3", "text": "–¢–æ, —á—Ç–æ —É–Ω–∏–∂–∞—é—Ç –º–æ—é –∫—É–ª—å—Ç—É—Ä—É/–ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ"},
            {"code": "LQ8_OP4", "text": "–¢–æ, —á—Ç–æ –¥–µ–ª–∞—é—Ç —ç—Ç–æ –ø—É–±–ª–∏—á–Ω–æ –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö"},
            {"code": "LQ8_OP5", "text": "–¢–æ, —á—Ç–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ"},
            {"code": "LQ8_OP6", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
    {
        "code": "LQ9",
        "type": "single",
        "text": "üë´ –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –¥—Ä—É–∑–µ–π –∏–ª–∏ –±–ª–∏–∑–∫–∏—Ö?",
        "options": [
            {"code": "LQ9_OP1", "text": "–î–∞, –º–µ–Ω—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∏ –ø–æ–Ω–∏–º–∞—é—Ç"},
            {"code": "LQ9_OP2", "text": "–ß–∞—Å—Ç–∏—á–Ω–æ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω–∏–º–∞—é—Ç"},
            {"code": "LQ9_OP3", "text": "–ù–µ—Ç, —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –æ–¥–∏–Ω–æ–∫–æ"},
            {"code": "LQ9_OP4", "text": "–ë–ª–∏–∑–∫–∏–µ –Ω–µ –∑–Ω–∞—é—Ç –æ —Å–∏—Ç—É–∞—Ü–∏–∏"},
        ],
        "required": True,
    },
    {
        "code": "LQ10",
        "type": "multi",
        "text": "üìâ –ö–∞–∫ –±—É–ª–ª–∏–Ω–≥ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å? (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)",
        "options": [
            {"code": "LQ10_OP1", "text": "–ù–µ —Ö–æ—á—É –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏"},
            {"code": "LQ10_OP2", "text": "–ë–æ—é—Å—å –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ —Å–≤–æ—ë–º —è–∑—ã–∫–µ"},
            {"code": "LQ10_OP3", "text": "–£—Ö—É–¥—à–∏–ª–∞—Å—å —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å/—Ä–∞–±–æ—Ç–∞"},
            {"code": "LQ10_OP4", "text": "–ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–Ω–æ–º –∏–ª–∏ –∞–ø–ø–µ—Ç–∏—Ç–æ–º"},
            {"code": "LQ10_OP5", "text": "–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ç—Ä–µ–≤–æ–≥–∞ –∏ —Å—Ç—Ä–µ—Å—Å"},
            {"code": "LQ10_OP6", "text": "–ù–∏–∑–∫–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞"},
            {"code": "LQ10_OP7", "text": "–ü–æ—á—Ç–∏ –Ω–µ –≤–ª–∏—è–µ—Ç"},
            {"code": "LQ10_OP8", "text": "–î—Ä—É–≥–æ–µ (—É–∫–∞–∂–∏—Ç–µ)", "has_input": True},
        ],
        "required": True,
    },
]

# –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
QUESTIONS = INITIAL_QUESTIONS + LINGUISTIC_QUESTIONS


def is_linguistic_bullying(answers: dict) -> bool:
    """
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –±—É–ª–ª–∏–Ω–≥ —è–∑—ã–∫–æ–≤—ã–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤
    
    Args:
        answers: —Å–ª–æ–≤–∞—Ä—å —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
    Returns:
        True –µ—Å–ª–∏ —ç—Ç–æ —è–∑—ã–∫–æ–≤–æ–π –±—É–ª–ª–∏–Ω–≥, False –∏–Ω–∞—á–µ
    """
    import json
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ Q1 (–∫–∞–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –±—É–ª–ª–∏–Ω–≥)
    q1_answer = answers.get("Q1", "")
    if q1_answer:
        try:
            q1_options = json.loads(q1_answer) if q1_answer.startswith('[') else [q1_answer]
        except:
            q1_options = [q1_answer]
        
        # –Ø–∑—ã–∫–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: Q1_OP1, Q1_OP2, Q1_OP3
        linguistic_options = ['Q1_OP1', 'Q1_OP2', 'Q1_OP3']
        for opt in q1_options:
            if any(ling_opt in opt for ling_opt in linguistic_options):
                # –ù–∞–π–¥–µ–Ω —è–∑—ã–∫–æ–≤–æ–π –±—É–ª–ª–∏–Ω–≥ –≤ Q1
                pass
            else:
                # –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ —è–∑—ã–∫–æ–≤—ã–µ –æ–ø—Ü–∏–∏, —Ç–æ —ç—Ç–æ –Ω–µ —è–∑—ã–∫–æ–≤–æ–π –±—É–ª–ª–∏–Ω–≥
                if any(other in opt for other in ['Q1_OP4', 'Q1_OP5', 'Q1_OP6']):
                    return False
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ Q2 (–ø—Ä–∏—á–∏–Ω—ã –±—É–ª–ª–∏–Ω–≥–∞)
    q2_answer = answers.get("Q2", "")
    if q2_answer:
        try:
            q2_options = json.loads(q2_answer) if q2_answer.startswith('[') else [q2_answer]
        except:
            q2_options = [q2_answer]
        
        # –Ø–∑—ã–∫–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã: Q2_OP1, Q2_OP2, Q2_OP3
        linguistic_reasons = ['Q2_OP1', 'Q2_OP2', 'Q2_OP3']
        has_linguistic_reason = False
        has_other_reason = False
        
        for opt in q2_options:
            if any(ling_rea in opt for ling_rea in linguistic_reasons):
                has_linguistic_reason = True
            if any(other in opt for other in ['Q2_OP4', 'Q2_OP5', 'Q2_OP6']):
                has_other_reason = True
        
        # –ï—Å–ª–∏ –µ—Å—Ç—å —è–∑—ã–∫–æ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ –∏ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö
        if has_linguistic_reason and not has_other_reason:
            return True
        elif has_linguistic_reason:
            # –ï—Å–ª–∏ –µ—Å—Ç—å –∏ —è–∑—ã–∫–æ–≤–∞—è, –∏ –¥—Ä—É–≥–∞—è –ø—Ä–∏—á–∏–Ω–∞ - –≤—Å–µ —Ä–∞–≤–Ω–æ —Å—á–∏—Ç–∞–µ–º —è–∑—ã–∫–æ–≤—ã–º
            return True
        else:
            # –¢–æ–ª—å–∫–æ –Ω–µ —è–∑—ã–∫–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã
            return False
    
    return False


def determine_aggression_type(answers: dict) -> str:
    """
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –∞–≥—Ä–µ—Å—Å–∏–∏ (—Å–∫—Ä—ã—Ç–∞—è –∏–ª–∏ —è–≤–Ω–∞—è) –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤
    
    Args:
        answers: —Å–ª–æ–≤–∞—Ä—å —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
    Returns:
        'open' –¥–ª—è —è–≤–Ω–æ–π –∞–≥—Ä–µ—Å—Å–∏–∏, 'subtle' –¥–ª—è —Å–∫—Ä—ã—Ç–æ–π
    """
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º LQ2 (–ø—Ä—è–º—ã–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è)
    lq2_answer = answers.get("LQ2", "")
    
    if "LQ2_OP1" in lq2_answer or "LQ2_OP2" in lq2_answer:
        # –ß–∞—Å—Ç–æ –æ—Å–∫–æ—Ä–±–ª—è—é—Ç –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –∏–Ω–æ–≥–¥–∞ = —è–≤–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏—è
        return "open"
    elif "LQ2_OP3" in lq2_answer:
        # –ù–∞–º—ë–∫–∏ –∏ —Å–∫—Ä—ã—Ç–∞—è –∞–≥—Ä–µ—Å—Å–∏—è
        return "subtle"
    else:
        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—á–∏—Ç–∞–µ–º —Å–∫—Ä—ã—Ç–æ–π
        return "subtle"


def get_question_by_code(code: str):
    """–ü–æ–ª—É—á–∏—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –∫–æ–¥—É"""
    for q in QUESTIONS:
        if q["code"] == code:
            return q
    return None


def get_next_question(current_code: str, answers: dict) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Å —É—á—ë—Ç–æ–º —É—Å–ª–æ–≤–∏–π"""
    current_idx = next((i for i, q in enumerate(QUESTIONS) if q["code"] == current_code), -1)
    
    if current_idx == -1 or current_idx == len(QUESTIONS) - 1:
        return None
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ —É—Å–ª–æ–≤–∏—è
    for i in range(current_idx + 1, len(QUESTIONS)):
        question = QUESTIONS[i]
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏–µ
        if "condition" in question:
            cond = question["condition"]
            cond_answer = answers.get(cond["question"])
            
            # –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –≤–æ–ø—Ä–æ—Å
            if not cond_answer or cond_answer not in cond["values"]:
                continue
        
        return question["code"]
    
    return None


def get_previous_question(current_code: str) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞"""
    current_idx = next((i for i, q in enumerate(QUESTIONS) if q["code"] == current_code), -1)
    
    if current_idx <= 0:
        return None
    
    return QUESTIONS[current_idx - 1]["code"]


def get_question_number(code: str) -> int:
    """–ü–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞"""
    return next((i + 1 for i, q in enumerate(QUESTIONS) if q["code"] == code), 0)
